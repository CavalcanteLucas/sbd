-- a OK
select title
from course
where credits=3;

| title                     |
| ------------------------- |
| Computational Biology     |
| Robotics                  |
| Image Processing          |
| Database System Concepts  |
| Intro. to Digital Systems |
| Investment Banking        |
| World History             |
| Music Video Production    |

-- b OK
select distinct s.id
from student s
join takes t on s.id = t.id
join teaches tt on t.course_id = tt.course_id
join instructor i on tt.id = i.id
where i.name = 'Einstein'

| id    |
| ----- |
| 44553 |

-- c OK
select max(salary)
from instructor

| max      |
| -------- |
| 95000.00 |

-- d OK
select id, name, salary
from instructor
where salary = (
  select max(salary)
  from instructor
)

| id    | name     | salary   |
| ----- | -------- | -------- |
| 22222 | Einstein | 95000.00 |

-- e OK
select t.course_id, t.sec_id, count(id) as takers
from takes t
where semester = 'Fall' and year = '2017'
group by course_id, t.sec_id
order by takers desc

select s.course_id, s.sec_id,
  (select count(*)
   from takes t
   where t.course_id = s.course_id
    and t.semester = s.semester
    and t.year = s.year
    and t.sec_id = s.sec_id)
  as takers
from section s
where semester = 'Fall' and year = '2017'

| course_id | sec_id | takers |
| --------- | ------ | ------ |
| CS-101    | 1      | 6      |
| CS-347    | 1      | 2      |
| PHY-101   | 1      | 1      |

-- f OK
select max(takers) from (
  select t.course_id, t.sec_id, count(id) as takers
  from takes t
  where semester = 'Fall' and year = '2017'
  group by course_id, t.sec_id
)

| max |
| --- |
| 6   |

-- g OK
with enrollment(course_id, sec_id, takers) as (
  select t.course_id, t.sec_id, count(id) as takers
  from takes t
  where semester = 'Fall' and year = '2017'
  group by course_id, t.sec_id
)
select e.course_id, e.sec_id
from enrollment e
where takers = (select max(takers) from enrollment)

| course_id | sec_id |
| --------- | ------ |
| CS-101    | 1      |