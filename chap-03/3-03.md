-- a

select *
from instructor
where dept_name = 'Comp. Sci.'

| id    | name       | dept_name  | salary   |
| ----- | ---------- | ---------- | -------- |
| 10101 | Srinivasan | Comp. Sci. | 65000.00 |
| 45565 | Katz       | Comp. Sci. | 75000.00 |
| 83821 | Brandt     | Comp. Sci. | 92000.00 |


update instructor
set salary = salary * 1.1
where dept_name = 'Comp. Sci.'

select *
from instructor
where dept_name = 'Comp. Sci.'

| id    | name       | dept_name  | salary    |
| ----- | ---------- | ---------- | --------- |
| 10101 | Srinivasan | Comp. Sci. | 71500.00  |
| 45565 | Katz       | Comp. Sci. | 82500.00  |
| 83821 | Brandt     | Comp. Sci. | 101200.00 |

-- b

select * from course

delete from course c1
where c1.course_id in (
  select c.course_id
  from course c
  left join section s
   on c.course_id = s.course_id
  where s.course_id is NULL
)

select * from course

-- c

Podemos selecionar tais alunos:

select *
from student
where tot_cred > 100

Mas ao tentar torna-los instrutores, com estes salários:

insert into instructor
select s.id, s.name, s.dept_name, 10000.00 as salary
  from student s
  where tot_cred > 100

nos deparamos com com um erro:
"""
There was a problem!

new row for relation "instructor" violates check constraint "instructor_salary_check"
You need both a title, and some query text.
"""

Podemos investigar que a tabela `instructor` possui uma restrição de integridade que garante que nenhum instrutor pode receber menos do que $29000.00:

select conname, pg_get_constraintdef(oid)
  from pg_constraint
  where conname like 'instructor_salary_check';

| conname                 | pg_get_constraintdef                |
| ----------------------- | ----------------------------------- |
| instructor_salary_check | CHECK ((salary > (29000)::numeric)) |


1: https://pgpedia.info/p/pg_get_constraintdef.html
pg_get_constraintdef() is a system function for obtaining the definition of a constraint.
pg_get_constraintdef() was added in PostgreSQL 7.3.