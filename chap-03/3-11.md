# 3.11

Escreva as seguintes consultas em SQL, usando o esquma da universidade.

**a)** Ache as IDs e os nomes de todos os alunos que realizaram pelo menos um curso de Comp. Sci.; cuide para que não haja nomes duplicados no resultado.

**b)** Ache as IDs e os nomes de todos os alunos que não realizarm nenhum curso [oferecidos] antes de 2017.

**c)** Para cada departamento, ache o maior salário dos instrutores desse departamento. Você pode considerar que cada departamento tem pelo menos um instrutor.

**d)** Ache o menor, dentre todos os departamentos, dos maiores salários por departamento, calculadosna consulta anterior.

## Resposta

**a)**

```
SELECT DISTINCT s.id, s.name
FROM student s
JOIN takes t ON s.id = t.id
WHERE t.course_id IN (
  SELECT c.course_id
  FROM course c
  WHERE c.dept_name LIKE 'Comp. Sci.'
)
```

more direct and usually preferred for clarity and performance:

```
SELECT DISTINCT student.ID, student.name
FROM student INNER JOIN takes  ON student.ID = takes.ID 
             INNER JOIN course ON takes.course_id = course.course_id
WHERE course.dept_name = 'Comp. Sci.';
```

**b)**
  
```
SELECT s.id, s.name
FROM student s
WHERE s.id NOT IN (
  SELECT t.id
  FROM takes t
  WHERE t.year < 2017
)
```

handles NULL values more safely and can be slightly more efficient:

```
SELECT ID, name 
FROM student AS S
WHERE NOT EXISTS (
    SELECT * 
    FROM takes AS T
    WHERE year < 2017 AND T.ID = S.ID 
)
```

**c)**



**d)**









