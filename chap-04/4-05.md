# 4.5

**Testando consultas SQL**: Para testar se uma consulta especificada em português foi escrita corretamente em SQL, a consulta SQL normalmente é executada em vários bancos de dados de teste e alguém verifica o resultado da consulta em cada banco de dados de teste correspondente à intenção da especificação em português.

**a)** Na seção 4.1.1, vimos um exemplo de consulta SQL errônea que tinha por finalidade descobrir quais cursos foram ministrados por cada instrutorç a consulta calculava a junção natural de *instrutor*, *ministra* e *curso*, e, como resultado, igualava não intencionalmente o atributo *nome_dept* de *instrutor* e *curso*. Dê um exemplo de um conjunto de dados que ajudaria a detectar esse erro em particular.

**b)** Ao criar bancos de dados de teste, é importante criar tuplas em relações referenciadas qwue não possuem nenhuma tupla correspondente na relação referenciadora para cada chave estrangeira. Explique o motivo, usando uma consulta de exemplo sobre o banco de dados de universidade.

**c)** Ao criar banco de dados de teste, é importante criar tuplas com valores nulos para atributos de chave estrangeira, desde que os atributos possam receber valores nulos (a SQL permite que atributos de chave estrangeira assumam valores nulos, desde que não façam parte da chave primária e que não tenham sido declarados como **not null**). Explique o motivo, usando uma consulta de exemplo sobre o banco de dados de universidade.

Dica: use as consultas do Exercício 4.2.

## Resposta

**a)**

**b)**

**c)**