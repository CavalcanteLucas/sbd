# 2.8

Considere o banco de dados de funcionários da Figura 2.17. Crie uma expressão na álgebra relacional para expresar cada uma das seguintes consultas:

<pre>
    funcionário(<u>nome_pessoa</u>, endereço, cidade)
    trabalha(<u>nome_pessoa</u>, nome_empresa, salário)
    empresa(<u>nome_empresa</u>, cidade)
</pre>

**Figura 2.17** - Banco de dados de funcionários.

**a)** Ache o nome de cada funcionário que não trabalha para "BigBank".

**b)** Ache o nome de cada funcionário que recebe pelo menos tanto quanto cada funcionário no banco de dados

## Resposta

**a)**

$$
\begin{align*}
&\prod\nolimits_{nome_pessoa}(funcionário) - \\
&\prod\nolimits_{nome_pessoa}( \\
&\qquad\rho_f(funcionário) \\
&\qquad\bowtie_{f.nome\_pessoa = t.nome\_pessoa} \\
&\qquad\sigma_{t.nome\_empresa}(\rho_t(trabalha)) \\
&)
\end{align*}
$$

Caso seja possível, utilizamos o operador e negação "$\neg$" no predicado e seleção. Alternativamente, utilizamos subtrações de conjuntos.

**b)**

$$
\begin{align*}
&\prod\nolimits_{nome_pessoa}(trabalha) - \\
&\prod\nolimits_{i.nome_pessoa}( \\
&\qquad\rho_i(trabalha) \\
&\qquad\bowtie_{i.salário \lt j.salário} \\
&\qquad\rho_j(salário)) \\
&)
\end{align*}
$$

Aqui, queremos encontrar aqueles que não são o que ganha menos. Calculamos aqueles que recebem menos que alguém, e subtraímos do conjunto total.